(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tonalDictionary=require("tonal-dictionary");var tonal=require("tonal");var DATA=require("./tunings.json");var tuning=tonalDictionary.fromName(null,DATA);function simpleTuning(src){var pcs=tonal.map(tonal.pc,tuning(src)||src);var simple=pcs.reduce(function(s,pc,i){if(s===false)return s;else if(i%2===0)s.push(pc);else if(s[s.length-1]!==pc)return false;return s},[]);return simple||pcs}var names$1=tonalDictionary.names(DATA);function build(tun,first,last){var ivls=tonal.range([first,last]).map(tonal.fromSemitones);var notes=tuning(tun)||tonal.asArr(tun);return notes.map(function(b){return ivls.map(tonal.transpose(b))})}function scale(tuning,scale,first,last){var filter=tonal.map(tonal.scaleFilter(scale));return build(tuning,first,last).map(filter)}exports.tuning=tuning;exports.simpleTuning=simpleTuning;exports.names=names$1;exports.build=build;exports.scale=scale},{"./tunings.json":2,tonal:4,"tonal-dictionary":3}],2:[function(require,module,exports){module.exports={guitar:["E2 A2 D3 G3 B3 E4",["guitar 6-string standard"]],"open D tuning":["D2 A2 D3 F#3 A3 D4",["vestopol"]],"open C tuning":["C2 G2 C3 G3 C4 E4"],charango:["G4 G4 C5 C5 E5 E4 A4 A4 E5 E5"],bouzouki:["C3 C4 F3 F4 A3 A3 D4 D4"]}},{}],3:[function(require,module,exports){"use strict";function id(x){return x}function fromName(parse,raw,name){if(arguments.length>2)return fromName(parse,raw)(name);var data=Object.keys(raw).reduce(function(d,k){d[k]=raw[k][0].split(" ").map(parse||id);if(raw[k][1])raw[k][1].forEach(function(a){d[a]=d[k]});return d},{});return function(n){return data[n]}}function names(raw,alias){if(arguments.length>1)return names(raw)(alias);var main=Object.keys(raw);var aliases=main.reduce(function(a,k){if(raw[k][1])raw[k][1].forEach(function(n){a.push(n)});return a},[]);return function(alias){return alias?main.concat(aliases):main.slice()}}exports.fromName=fromName;exports.names=names},{}],4:[function(require,module,exports){"use strict";var tonalNote=require("tonal-note");var tonalInterval=require("tonal-interval");var tonalMidi=require("tonal-midi");var tonalFreq=require("tonal-freq");var tonalTranspose=require("tonal-transpose");var tonalDistance=require("tonal-distance");var tonalFilter=require("tonal-filter");var tonalArray=require("tonal-array");var tonalRange=require("tonal-range");exports.noteName=tonalNote.noteName;exports.chroma=tonalNote.chroma;exports.pc=tonalNote.pc;exports.enharmonics=tonalNote.enharmonics;exports.enh=tonalNote.enh;exports.simpleEnh=tonalNote.simpleEnh;exports.ivlName=tonalInterval.ivlName;exports.semitones=tonalInterval.semitones;exports.fromSemitones=tonalInterval.fromSemitones;exports.ic=tonalInterval.ic;exports.itype=tonalInterval.itype;exports.invert=tonalInterval.invert;exports.simplify=tonalInterval.simplify;exports.isMidiNum=tonalMidi.isMidiNum;exports.toMidi=tonalMidi.toMidi;exports.fromMidi=tonalMidi.fromMidi;exports.fromMidiS=tonalMidi.fromMidiS;exports.toEqualTemp=tonalFreq.toEqualTemp;exports.toFreq=tonalFreq.toFreq;exports.midiFromFreq=tonalFreq.midiFromFreq;exports.fromFreq=tonalFreq.fromFreq;exports.cents=tonalFreq.cents;exports.fromEqualTemp=tonalFreq.fromEqualTemp;exports.transpose=tonalTranspose.transpose;exports.tr=tonalTranspose.tr;exports.trFifths=tonalTranspose.trFifths;exports.distance=tonalDistance.distance;exports.interval=tonalDistance.interval;exports.distInSemitones=tonalDistance.distInSemitones;exports.scaleFilter=tonalFilter.scaleFilter;exports.asArr=tonalArray.asArr;exports.map=tonalArray.map;exports.filter=tonalArray.filter;exports.listFn=tonalArray.listFn;exports.harmonizer=tonalArray.harmonizer;exports.harmonize=tonalArray.harmonize;exports.harmonics=tonalArray.harmonics;exports.rotate=tonalArray.rotate;exports.rotateAsc=tonalArray.rotateAsc;exports.select=tonalArray.select;exports.sort=tonalArray.sort;exports.shuffle=tonalArray.shuffle;exports.range=tonalRange.range;exports.chromatic=tonalRange.chromatic;exports.cycleOfFifths=tonalRange.cycleOfFifths;exports.scaleRange=tonalRange.scaleRange},{"tonal-array":5,"tonal-distance":11,"tonal-filter":17,"tonal-freq":18,"tonal-interval":19,"tonal-midi":25,"tonal-note":27,"tonal-range":33,"tonal-transpose":34}],5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tonalPitch=require("tonal-pitch");var tonalNotation=require("tonal-notation");var tonalTranspose=require("tonal-transpose");var tonalDistance=require("tonal-distance");function hasVal(e){return e||e===0}var SEP=/\s*\|\s*|\s*,\s*|\s+/;function asArr(src){return tonalNotation.isArr(src)?src:typeof src==="string"?src.trim().split(SEP):src===null||typeof src==="undefined"?[]:[src]}function map(fn,list){return arguments.length>1?map(fn)(list):function(l){return asArr(l).map(fn)}}function cMap(fn,list){if(arguments.length===1)return function(l){return cMap(fn,list)};return map(fn,list).filter(hasVal)}function compact(arr){return asArr(arr).filter(hasVal)}function filter(fn,list){return arguments.length>1?filter(fn)(list):function(l){return asArr(l).filter(fn)}}function harmonics(list){var a=asArr(list);return a.length?a.map(tonalDistance.distance(a[0])).filter(hasVal):a}function harmonizer(list){return function(tonic){return cMap(tonalTranspose.tr(tonic||"P1"),list)}}var harmonize=function(list,pitch){return arguments.length>1?harmonizer(list)(pitch):harmonizer(list)};var objHeight=function(p){if(!p)return-Infinity;var f=p[1]*7;var o=tonalNotation.isNum(p[2])?p[2]:-Math.floor(f/12)-10;return f+o*12};function ascComp(a,b){return objHeight(a)-objHeight(b)}function descComp(a,b){return-ascComp(a,b)}function sort(comp,list){if(arguments.length>1)return sort(comp)(list);var fn=comp===true||comp===null?ascComp:comp===false?descComp:comp;return listFn(function(arr){return arr.sort(fn)})}var shuffle=listFn(function(arr){var i,t;var m=arr.length;while(m){i=Math.random()*m--|0;t=arr[m];arr[m]=arr[i];arr[i]=t}return arr});function trOct(n){return tonalTranspose.tr(tonalPitch.pitch(0,n,1))}function rotate(times,list){var arr=asArr(list);var len=arr.length;var n=(times%len+len)%len;return arr.slice(n,len).concat(arr.slice(0,n))}function rotateAsc(times,list){return listFn(function(arr){var len=arr.length;var n=(times%len+len)%len;var head=arr.slice(n,len);var tail=arr.slice(0,n);var s=tonalDistance.distInSemitones(head[len-n-1],tail[0]);if(s<0){var octs=Math.floor(s/12);if(times<0)head=head.map(trOct(octs));else tail=tail.map(trOct(-octs))}return head.concat(tail)})(list)}function select(nums,list){if(arguments.length===1)return function(l){return select(nums,l)};var arr=asArr(list);return asArr(nums).map(function(n){return arr[n-1]||null})}function asPitchStr(p){return tonalPitch.strPitch(p)||p}function listToStr(v){return tonalPitch.isPitch(v)?tonalPitch.strPitch(v):tonalNotation.isArr(v)?v.map(asPitchStr):v}function listFn(fn){return function(list){var arr=asArr(list).map(tonalPitch.asPitch);var res=fn(arr);return listToStr(res)}}exports.asArr=asArr;exports.map=map;exports.cMap=cMap;exports.compact=compact;exports.filter=filter;exports.harmonics=harmonics;exports.harmonizer=harmonizer;exports.harmonize=harmonize;exports.sort=sort;exports.shuffle=shuffle;exports.rotate=rotate;exports.rotateAsc=rotateAsc;exports.select=select;exports.listFn=listFn},{"tonal-distance":11,"tonal-notation":6,"tonal-pitch":7,"tonal-transpose":34}],6:[function(require,module,exports){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?factory(exports):typeof define==="function"&&define.amd?define(["exports"],factory):factory(global.notation=global.notation||{})})(this,function(exports){"use strict";var isArr=Array.isArray;function isNum(x){return typeof x==="number"}function isStr(x){return typeof x==="string"}function toStep(l){var s="CDEFGAB".indexOf(l.toUpperCase());return s<0?null:s}function isStep(d){return!(d<0||d>6)}function toLetter(s){return isStep(s)?"CDEFGAB".charAt(s):null}function areFlats(s){return/^b+$/.test(s)}function areSharps(s){return/^#+$/.test(s)}function toAlt(s){return s===""?0:areFlats(s)?-s.length:areSharps(s)?s.length:null}function fillStr(s,num){return Array(num+1).join(s)}function toAcc(n){return n===0?"":n<0?fillStr("b",-n):fillStr("#",n)}exports.isArr=isArr;exports.isNum=isNum;exports.isStr=isStr;exports.toStep=toStep;exports.isStep=isStep;exports.toLetter=toLetter;exports.areFlats=areFlats;exports.areSharps=areSharps;exports.toAlt=toAlt;exports.toAcc=toAcc})},{}],7:[function(require,module,exports){"use strict";var noteParser=require("note-parser");var intervalNotation=require("interval-notation");var tonalEncoding=require("tonal-encoding");var tonalNotation=require("tonal-notation");function pitch(fifths,focts,dir){return dir?["tnlp",[fifths,focts],dir]:["tnlp",[fifths,focts]]}function isPitch(p){return tonalNotation.isArr(p)&&p[0]==="tnlp"}function encode$1(s,a,o,dir){return dir?["tnlp",tonalEncoding.encode(s,a,o),dir]:["tnlp",tonalEncoding.encode(s,a,o)]}function decode$1(p){return tonalEncoding.decode.apply(null,p[1])}function pType(p){return!isPitch(p)?null:p[2]?"ivl":"note"}function isNotePitch(p){return pType(p)==="note"}function isIvlPitch(p){return pType(p)==="ivl"}function isPC(p){return isPitch(p)&&p[1].length===1}function dir(p){return p[2]===-1?-1:1}function fifths(p){return p[2]===-1?-p[1][0]:p[1][0]}function focts(p){return p[2]===-1?-p[1][1]:p[1][1]}function height(p){return fifths(p)*7+focts(p)*12}function chr(p){var f=fifths(p);return 7*f-12*Math.floor(f*7/12)}function memoize(fn){var cache={};return function(str){if(!tonalNotation.isStr(str))return null;return cache[str]||(cache[str]=fn(str))}}var parseNote=memoize(function(s){var p=noteParser.parse(s);return p?encode$1(p.step,p.alt,p.oct):null});var parseIvl=memoize(function(s){var p=intervalNotation.parse(s);if(!p)return null;return p?encode$1(p.simple-1,p.alt,p.oct,p.dir):null});function parsePitch(s){return parseNote(s)||parseIvl(s)}function asNotePitch(p){return isNotePitch(p)?p:parseNote(p)}function asIvlPitch(p){return isIvlPitch(p)?p:parseIvl(p)}function asPitch(p){return isPitch(p)?p:parsePitch(p)}function octStr(n){return tonalNotation.isNum(n)?n:""}function strNote(p){if(!isNotePitch(p))return null;var d=decode$1(p);return tonalNotation.toLetter(d[0])+tonalNotation.toAcc(d[1])+octStr(d[2])}function strIvl(p){if(!isIvlPitch(p))return null;var d=decode$1(p);var num=d[0]+1+7*d[2];return p[2]*num+intervalNotation.altToQ(num,d[1])}function strPitch(p){return strNote(p)||strIvl(p)}function decorator(is,parse,str){return function(fn){return function(v){var i=is(v);if(i)return fn(v);var p=parse(v);return p?str(fn(p)):null}}}var noteFn=decorator(isNotePitch,parseNote,strNote);var ivlFn=decorator(isIvlPitch,parseIvl,strIvl);var pitchFn=decorator(isPitch,parsePitch,strPitch);exports.pitch=pitch;exports.isPitch=isPitch;exports.encode=encode$1;exports.decode=decode$1;exports.pType=pType;exports.isNotePitch=isNotePitch;exports.isIvlPitch=isIvlPitch;exports.isPC=isPC;exports.dir=dir;exports.fifths=fifths;exports.focts=focts;exports.height=height;exports.chr=chr;exports.parseNote=parseNote;exports.parseIvl=parseIvl;exports.parsePitch=parsePitch;exports.asNotePitch=asNotePitch;exports.asIvlPitch=asIvlPitch;exports.asPitch=asPitch;exports.strNote=strNote;exports.strIvl=strIvl;exports.strPitch=strPitch;exports.noteFn=noteFn;exports.ivlFn=ivlFn;exports.pitchFn=pitchFn},{"interval-notation":8,"note-parser":9,"tonal-encoding":10,"tonal-notation":6}],8:[function(require,module,exports){"use strict";var IVL_TNL="([-+]?)(\\d+)(d{1,4}|m|M|P|A{1,4})";var IVL_STR="(AA|A|P|M|m|d|dd)([-+]?)(\\d+)";var COMPOSE="(?:("+IVL_TNL+")|("+IVL_STR+"))";var IVL_REGEX=new RegExp("^"+COMPOSE+"$");function parse(str){if(typeof str!=="string")return null;var m=IVL_REGEX.exec(str);if(!m)return null;var i={num:+(m[3]||m[8]),q:m[4]||m[6]};i.dir=(m[2]||m[7])==="-"?-1:1;var step=(i.num-1)%7;i.simple=step+1;i.type=TYPES[step];i.alt=qToAlt(i.type,i.q);i.oct=Math.floor((i.num-1)/7);i.size=i.dir*(SIZES[step]+i.alt+12*i.oct);return i}var SIZES=[0,2,4,5,7,9,11];var TYPES="PMMPPMM";function type(num){return TYPES[(num-1)%7]}function dirStr(dir){return dir===-1?"-":""}function num(simple,oct){return simple+7*oct}function shorthand(simple,alt,oct,dir){return altToQ(simple,alt)+dirStr(dir)+num(simple,oct)}function build(simple,alt,oct,dir){return dirStr(dir)+num(simple,oct)+altToQ(simple,alt)}function qToAlt(num,q){var t=typeof num==="number"?type(num):num;if(q==="M"&&t==="M")return 0;if(q==="P"&&t==="P")return 0;if(q==="m"&&t==="M")return-1;if(/^A+$/.test(q))return q.length;if(/^d+$/.test(q))return t==="P"?-q.length:-q.length-1;return null}function fillStr(s,n){return Array(Math.abs(n)+1).join(s)}function altToQ(num,alt){var t=typeof num==="number"?type(Math.abs(num)):num;if(alt===0)return t==="M"?"M":"P";else if(alt===-1&&t==="M")return"m";else if(alt>0)return fillStr("A",alt);else if(alt<0)return fillStr("d",t==="P"?alt:alt+1);else return null}module.exports={parse:parse,type:type,altToQ:altToQ,qToAlt:qToAlt,build:build,shorthand:shorthand}},{}],9:[function(require,module,exports){"use strict";var REGEX=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function regex(){return REGEX}var SEMITONES=[0,2,4,5,7,9,11];function parse(str,isTonic,tuning){if(typeof str!=="string")return null;var m=REGEX.exec(str);if(!m||!isTonic&&m[4])return null;var p={letter:m[1].toUpperCase(),acc:m[2].replace(/x/g,"##")};p.pc=p.letter+p.acc;p.step=(p.letter.charCodeAt(0)+3)%7;p.alt=p.acc[0]==="b"?-p.acc.length:p.acc.length;p.chroma=SEMITONES[p.step]+p.alt;if(m[3]){p.oct=+m[3];p.midi=p.chroma+12*(p.oct+1);p.freq=midiToFreq(p.midi,tuning)}if(isTonic)p.tonicOf=m[4];return p}function midiToFreq(midi,tuning){return Math.pow(2,(midi-69)/12)*(tuning||440)}var parser={parse:parse,regex:regex,midiToFreq:midiToFreq};var FNS=["letter","acc","pc","step","alt","chroma","oct","midi","freq"];FNS.forEach(function(name){parser[name]=function(src){var p=parse(src);return p&&typeof p[name]!=="undefined"?p[name]:null}});module.exports=parser},{}],10:[function(require,module,exports){"use strict";function isNum(n){return typeof n==="number"}var FIFTHS=[0,2,4,-1,1,3,5];function fOcts(f){return Math.floor(f*7/12)}var FIFTH_OCTS=FIFTHS.map(fOcts);function encode(step,alt,oct){var f=FIFTHS[step]+7*alt;if(!isNum(oct))return[f];var o=oct-FIFTH_OCTS[step]-4*alt;return[f,o]}function unaltered(f){var i=(f+1)%7;return i<0?7+i:i}var STEPS=[3,0,4,1,5,2,6];function decode(f,o){var step=STEPS[unaltered(f)];var alt=Math.floor((f+1)/7);if(!isNum(o))return[step,alt];var oct=o+4*alt+FIFTH_OCTS[step];return[step,alt,oct]}exports.encode=encode;exports.decode=decode},{}],11:[function(require,module,exports){"use strict";var tonalPitch=require("tonal-pitch");function substr(a,b){if(!a||!b||a[1].length!==b[1].length)return null;var f=tonalPitch.fifths(b)-tonalPitch.fifths(a);if(tonalPitch.isPC(a))return tonalPitch.pitch(f,-Math.floor(f*7/12),1);var o=tonalPitch.focts(b)-tonalPitch.focts(a);var d=tonalPitch.height(b)-tonalPitch.height(a)<0?-1:1;return tonalPitch.pitch(d*f,d*o,d)}function distance(a,b){if(arguments.length===1)return function(b){return distance(a,b)};var pa=tonalPitch.asPitch(a);var pb=tonalPitch.asPitch(b);var i=substr(pa,pb);return a===pa&&b===pb?i:tonalPitch.strIvl(i)}function distInSemitones(a,b){var i=substr(tonalPitch.asPitch(a),tonalPitch.asPitch(b));return i?tonalPitch.height(i):null}var interval=distance;exports.distance=distance;exports.distInSemitones=distInSemitones;exports.interval=interval},{"tonal-pitch":12}],12:[function(require,module,exports){arguments[4][7][0].apply(exports,arguments)},{dup:7,"interval-notation":13,"note-parser":14,"tonal-encoding":15,"tonal-notation":16}],13:[function(require,module,exports){arguments[4][8][0].apply(exports,arguments)},{dup:8}],14:[function(require,module,exports){arguments[4][9][0].apply(exports,arguments)},{dup:9}],15:[function(require,module,exports){arguments[4][10][0].apply(exports,arguments)},{dup:10}],16:[function(require,module,exports){arguments[4][6][0].apply(exports,arguments)},{dup:6}],17:[function(require,module,exports){"use strict";var tonalNote=require("tonal-note");var tonalArray=require("tonal-array");var tonalMidi=require("tonal-midi");function scaleFilter(notes,m){if(arguments.length>1)return scaleFilter(notes)(m);var scale=tonalArray.map(tonalNote.pc,notes);var chromas=tonalArray.map(tonalNote.chroma,scale);return function(note){var midi=tonalMidi.toMidi(note);var m=midi!==null?midi-12:tonalNote.chroma(note);var pcIndex=chromas.indexOf(m%12);return pcIndex>-1?scale[pcIndex]+Math.floor(m/12):null}}exports.scaleFilter=scaleFilter},{"tonal-array":5,"tonal-midi":25,"tonal-note":27}],18:[function(require,module,exports){"use strict";var tonalMidi=require("tonal-midi");function toEqualTemp(ref){return function(p){var m=tonalMidi.toMidi(p);return m?Math.pow(2,(m-69)/12)*ref:null}}var toFreq=toEqualTemp(440);function fromEqualTemp(ref){return function(freq){var midi=12*(Math.log(freq)-Math.log(ref))/Math.log(2)+69;return Math.round(midi)}}var midiFromFreq=fromEqualTemp(440);function fromFreq(freq){return tonalMidi.fromMidi(midiFromFreq(freq))}function cents(base,freq){var b=toFreq(base)||base;var f=toFreq(freq)||freq;return 1200*(Math.log(f/b)/Math.log(2))}exports.toEqualTemp=toEqualTemp;exports.toFreq=toFreq;exports.fromEqualTemp=fromEqualTemp;exports.midiFromFreq=midiFromFreq;exports.fromFreq=fromFreq;exports.cents=cents},{"tonal-midi":25}],19:[function(require,module,exports){"use strict";var tonalPitch=require("tonal-pitch");function ivlName(ivl){var i=tonalPitch.asIvlPitch(ivl);return i?tonalPitch.strIvl(i):null}function semitones(ivl){var i=tonalPitch.asIvlPitch(ivl);return i?7*tonalPitch.fifths(i)+12*tonalPitch.focts(i):null}var IN=[1,2,2,3,3,4,5,5,6,6,7,7];var IQ="P m M m M P d P m M m M".split(" ");function fromSemitones(num){var d=num<0?-1:1;var n=Math.abs(num);var c=n%12;var o=Math.floor(n/12);return d*(IN[c]+7*o)+IQ[c]}var CLASSES=[0,1,2,3,4,5,6,5,4,3,2,1];function ic(ivl){var i=tonalPitch.asIvlPitch(ivl);var s=i?tonalPitch.chr(i):Math.round(ivl);return isNaN(s)?null:CLASSES[Math.abs(s)%12]}var TYPES="PMMPPMM";function itype(ivl){var i=tonalPitch.asIvlPitch(ivl);return i?TYPES[tonalPitch.decode(i)[0]]:null}var invert=tonalPitch.ivlFn(function(i){var d=tonalPitch.decode(i);var step=(7-d[0])%7;var alt=TYPES[d[0]]==="P"?-d[1]:-(d[1]+1);return tonalPitch.encode(step,alt,d[2],tonalPitch.dir(i))});var simplify=tonalPitch.ivlFn(function(i){var dec=tonalPitch.decode(i);if(dec[0]!==0||dec[2]!==1)dec[2]=0;return tonalPitch.encode(dec[0],dec[1],dec[2],tonalPitch.dir(i))});exports.ivlName=ivlName;exports.semitones=semitones;exports.fromSemitones=fromSemitones;exports.ic=ic;exports.itype=itype;exports.invert=invert;exports.simplify=simplify},{"tonal-pitch":21}],20:[function(require,module,exports){arguments[4][10][0].apply(exports,arguments)},{dup:10}],21:[function(require,module,exports){arguments[4][7][0].apply(exports,arguments)},{dup:7,"interval-notation":22,"note-parser":23,"tonal-encoding":20,"tonal-notation":24}],22:[function(require,module,exports){arguments[4][8][0].apply(exports,arguments)},{dup:8}],23:[function(require,module,exports){arguments[4][9][0].apply(exports,arguments)},{dup:9}],24:[function(require,module,exports){arguments[4][6][0].apply(exports,arguments)},{dup:6}],25:[function(require,module,exports){"use strict";function _interopDefault(ex){return ex&&typeof ex==="object"&&"default"in ex?ex["default"]:ex}var parser=_interopDefault(require("note-parser"));function isMidiNum(m){if(m===null||Array.isArray(m))return false;return m>=0&&m<128}function toMidi(val){var p=parser.parse(val);return p&&typeof p.midi!=="undefined"?p.midi:isMidiNum(val)?+val:null}var FLATS="C Db D Eb E F Gb G Ab A Bb B".split(" ");var SHARPS="C C# D D# E F F# G G# A A# B".split(" ");function fromMidiFn(pcs){return function(m){var pc=pcs[m%12];var o=Math.floor(m/12)-1;return pc+o}}var fromMidi=fromMidiFn(FLATS);var fromMidiS=fromMidiFn(SHARPS);exports.isMidiNum=isMidiNum;exports.toMidi=toMidi;exports.fromMidi=fromMidi;exports.fromMidiS=fromMidiS},{"note-parser":26}],26:[function(require,module,exports){arguments[4][9][0].apply(exports,arguments)},{dup:9}],27:[function(require,module,exports){"use strict";var tonalPitch=require("tonal-pitch");var tonalTranspose=require("tonal-transpose");function chroma(n){var p=tonalPitch.asNotePitch(n);return p?tonalPitch.chr(p):null}function noteName(n){var p=tonalPitch.asNotePitch(n);return p?tonalPitch.strNote(p):null}function pc(n){var p=tonalPitch.asNotePitch(n);return p?tonalPitch.strNote([p[0],[tonalPitch.fifths(p)]]):null}var ASC=tonalPitch.parseIvl("2d");var DESC=tonalPitch.parseIvl("-2d");function enharmonics(pitch){var notes=[];notes.push(tonalTranspose.tr(DESC,pitch));if(notes[0]===null)return null;notes.push(pitch);notes.push(tonalTranspose.tr(ASC,pitch));return notes}var enh=enharmonics;function simpleEnh(pitch){return enharmonics(pitch).reduce(function(simple,next){if(!simple)return next;return simple.length>next.length?next:simple},null)}exports.chroma=chroma;exports.noteName=noteName;exports.pc=pc;exports.enharmonics=enharmonics;exports.enh=enh;exports.simpleEnh=simpleEnh},{"tonal-pitch":28,"tonal-transpose":34}],28:[function(require,module,exports){arguments[4][7][0].apply(exports,arguments)},{dup:7,"interval-notation":29,"note-parser":30,"tonal-encoding":31,"tonal-notation":32}],29:[function(require,module,exports){arguments[4][8][0].apply(exports,arguments)},{dup:8}],30:[function(require,module,exports){arguments[4][9][0].apply(exports,arguments)},{dup:9}],31:[function(require,module,exports){arguments[4][10][0].apply(exports,arguments)},{dup:10}],32:[function(require,module,exports){arguments[4][6][0].apply(exports,arguments)},{dup:6}],33:[function(require,module,exports){"use strict";var tonalArray=require("tonal-array");var tonalTranspose=require("tonal-transpose");var tonalMidi=require("tonal-midi");var tonalFilter=require("tonal-filter");var slice=Array.prototype.slice;function isNum(n){return typeof n==="number"}function asNum(n){return isNum(n)?n:tonalMidi.toMidi(n)}function ascR(b,n){for(var a=[];n--;a[n]=n+b);return a}function descR(b,n){for(var a=[];n--;a[n]=b-n);return a}function ran(a,b){return a===null||b===null?[]:a<b?ascR(a,b-a+1):descR(a,a-b+1)}function range(list){return tonalArray.asArr(list).map(asNum).reduce(function(r,n,i){if(i===1)return ran(r,n);var last=r[r.length-1];return r.concat(ran(last,n).slice(1))})}function chromatic(list){var args=arguments.length===1?list:slice.call(arguments);return tonalArray.cMap(tonalMidi.fromMidi,range(args))}function cycleOfFifths(s,e,t){return range([s,e]).map(tonalTranspose.trFifths(t))}function scaleRange(src,list){if(arguments.length===1)return function(l){return scaleRange(src,l)};var fn=typeof src==="function"?src:tonalFilter.scaleFilter(src);return tonalArray.cMap(fn,range(list))}exports.range=range;exports.chromatic=chromatic;exports.cycleOfFifths=cycleOfFifths;exports.scaleRange=scaleRange},{"tonal-array":5,"tonal-filter":17,"tonal-midi":25,"tonal-transpose":34}],34:[function(require,module,exports){"use strict";var tonalPitch=require("tonal-pitch");function trBy(i,p){var t=tonalPitch.pType(p);if(!t)return null;var f=tonalPitch.fifths(i)+tonalPitch.fifths(p);if(tonalPitch.isPC(p))return["tnlp",[f]];var o=tonalPitch.focts(i)+tonalPitch.focts(p);if(t==="note")return["tnlp",[f,o]];var d=tonalPitch.height(i)+tonalPitch.height(p)<0?-1:1;return["tnlp",[d*f,d*o],d]}function transpose(a,b){if(arguments.length===1)return function(b){return transpose(a,b)};var pa=tonalPitch.asPitch(a);var pb=tonalPitch.asPitch(b);var r=tonalPitch.isIvlPitch(pa)?trBy(pa,pb):tonalPitch.isIvlPitch(pb)?trBy(pb,pa):null;return a===pa&&b===pb?r:tonalPitch.strPitch(r)}var tr=transpose;function trFifths(t,n){if(arguments.length>1)return trFifths(t)(n);return function(n){return tr(t,tonalPitch.pitch(n,0,1))}}exports.transpose=transpose;exports.tr=tr;exports.trFifths=trFifths},{"tonal-pitch":35}],35:[function(require,module,exports){arguments[4][7][0].apply(exports,arguments)},{dup:7,"interval-notation":36,"note-parser":37,"tonal-encoding":38,"tonal-notation":39}],36:[function(require,module,exports){arguments[4][8][0].apply(exports,arguments)},{dup:8}],37:[function(require,module,exports){arguments[4][9][0].apply(exports,arguments)},{dup:9}],38:[function(require,module,exports){arguments[4][10][0].apply(exports,arguments)},{dup:10}],39:[function(require,module,exports){arguments[4][6][0].apply(exports,arguments)},{dup:6}],40:[function(require,module,exports){window.TonalFretboard=require("tonal-fretboard")},{"tonal-fretboard":1}]},{},[40]);